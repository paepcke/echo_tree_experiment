<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html title="PartnerRole">
  <head>

    <link rel="stylesheet" href="partner.css" type="text/css" />
    <meta charset="UTF-8">

  </head>
  <body>
    <div class=application id=userMsg>
      <span style="padding-top: 10px; padding-left: 20px;"><b>You play the conversation partner.</b></span>
      New word: <input class="twoLines" type="text" name="newWord" id="newWord" 
		       onkeydown="window.handleEnterInWordFld();" 
		       />

      <button class="normal" onclick="window.sendNewRootWordFromTxtFld();">Get New Tree</button>
    </div>

<!-- This section would add the shortcut fill words:

    <select id="pulldown" onchange="handleChange(this);">
      <option value="">Shortcuts:</option>
      <option value="after">after</option>
      <option value="also">also</option><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	  "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>

    <link rel="stylesheet" href="index.css" type="text/css" />
    <meta charset="UTF-8">
    <script type="text/javascript" src="getAssignment.js"></script>

  </head>
  <body>
    <H1>Welcome to the EchoTree experiment</H1>

    The goal of this experiment/game is to determine which parameter
    settings are optimal for a new computer interface idea. The
    experiment tests nothing at all about you. The interface under
    test is to help people who interact with a motion and speech
    disabled individual. While the speech impaired person slowly types
    a sentence, one or more conversation partners can see on a Web
    page both the typing, and a graph that 'guesses' different
    conversational directions the typist might have in mind.
    <p>
    In this experiment you and one other person will interact via your
    computer, and the telephone. One of you will pretend that you
    cannot speak. The participant playing this 'disabled' role will
    see a sentence at a time on their screen. They will start typing
    the sentence into a text field.
    <p>
    The other player, who will play the able bodied 'conversation
    partner' role, will see the typed words, and a visualization that
    changes with each new word.  They will try to guess over the phone
    what the impaired person is trying to say. When a guess is close,
    the disabled player may click on a button on their screen that
    says <i>That's Close; will type more.</i>  The partner will see an
    indication of that button push on their end, and the disabled
    player will continue typing, taking the guess into account:
    <p>
    The disabled player may, for example, decide to type information
    other than the precise sentence they were given. In particular,
    they may leave out pieces that are covered by the guess. The goal
    is for the disabled person to have to type <b>as little as
    possible</b>. The exeriment system limits typing speed to what a
    motion impaired person might be able to manage. The computer will
    simply not accept faster typing. This effect will be obvious, and
    you do not need to remember to slow down.
    <p>
    When the disabled person has typed the entire sentence, or decides
    that the partner has guessed the <b>essence</b> of the sentence
    before everything is typed in, they press a button
    labeled <i>Sentence is done</i>, and a new sentence will be
    presented to the disabled person for another round. After 10
    sentences, the server will switch the roles of the players. This
    switch will be obvious. You do not need to keep track of how many
    sentences you worked on. The experiment finishes after that second
    round. Of course, either of you may stop and abort the experiment
    at any time if you need to.
    <p>
    It is crucial that the player in the 'disabled' role does not
    speak once they are presented with a sentence to type. Only the
    partner voices their guesses over the phone. It's a one-way
    conversation. We are testing how well this interaction would work
    if the disabled player really could not speak.
    <p>
    You will play with a player of your choice.  You will each type in
    your own email address below, plus your partner's email. For
    example, if you are John, and your email is john@google.com, and
    your game partner's email is doris@yahoo.com, you will type
    john@google.com as your email address, and doris@yahoo.com as your
    partner's address. Doris on the other hand, will enter
    doris@yahoo.com in the <i>Your email address</i> field, and
    john@google.com in the <i>Partner's email address field</i>. You
    will both press your <i>Next</i> button once you typed in the
    email addresses.
    <p>
    It is important that you use email addresses consistently: If John
    fills his partner's email in as doris@yahoo.com, then Doris needs
    to specify that very email as hers in the address field on her
    end. Otherwise the computer won't be able to tell that you are
    playing together, and nothing will work.
    <p>
    Your email will at most be used for me to contact you if something
    goes wrong, or to say thank you. The address will not be shared,
    sold, auctioned, or donated to the Mafia. The information's main
    purpose is for the computer to match you up with your player.
    <p>
    The computer will tell you when you are both logged in, and can
    begin. The first sentence will be a practice run. You can confer
    with each other over the phone during that practice run to ensure
    you are both clear on the process. That first practice run ends
    when the player with the disabled role presses the <i>Sentence is done</i>
    button for the first time. You may take as long as you wish
    for that practice sentence.

    Please enter your email address and that of your partner, and then
    click the <i>Next</i> button:
    <div class="application" align="right">
      Your email address: <input class="twoLines" type="text" name="playerName1" id="playerName1"/><br>
      Partner's email address: <input class="twoLines" type="text" name="playerName2" id="playerName2"/>
    </div>
    <input type=button id=nextButton onclick=getAssignment() value="Next" />

    <script type=text/javascript>
      // Get player IDs for myself and the other player from browser cookie.
      // If that cookie is set, we'll fill in the email lines. If getAssignment()
      // could not load, then the experiment server is down, and getCookie() is
      // unavailable:

      try {
        var thisEmail   = getCookie("echoTreeOwnEmail");
        var otherEmail  = getCookie("echoTreeOtherEmail");
      } catch (err) {
        thisEmail = undefined;
        otherEmail = undefined;
        alert("The EchoTree experiment server seems to be down. But please try to log in anyway.");
      }

      if (typeof thisEmail !== "undefined")
        document.getElementById("playerName1").value = thisEmail;
      if (typeof otherEmail !== "undefined")
        document.getElementById("playerName2").value = otherEmail;
    </script>

  </body>
</html>

      <option value="because">because</option>
      <option value=".">.</option>
      <option value="what">what</option>
      <option value="where">where</option>
      <option value="if">if</option>
      <option value="must">must</option>
      <option value="my">my</option>
      <option value="say">say</option>
      <option value="we">we</option>
      <option value="his">his</option>
      <option value="her">her</option>
      <option value="every">every</option>
      <option value="either">either</option>
    </select>
-->
    <div id="echotree">
    </div>

    <div class="application" align="center">
      <input class="twoLines" type="text" name="ticker" id="ticker"/>
    <!--
    <button onclick="onCorrect();">That's Right!</button>
    <button onclick="onIncorrect();">Not That</button>
    <button onclick="onRestart();">Start Over</button>
    -->
    </div>

    <!-- Define a global var that holds the experiment manager,
	 so that everyone can report to him. This var will be
	 initialized by managerExperiment.js -->
    <script type="text/javascript">var expManager;</script>

    <!-- This Web interface is for the conversation partner,
	 not the disabled person: -->
    <script type="text/javascript">var whoami = "partnerRole";</script>

    <script type="text/javascript" src="http://d3js.org/d3.v2.min.js?2.10.0"></script>
    <script type="text/javascript" src="echoTreeExperiment.js"></script>
    <script type="text/javascript" src="manageExperiment.js"></script>

  </body>
</html>
